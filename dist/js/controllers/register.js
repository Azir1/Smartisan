"use strict";$(function(){$(".btn-primary").click(function(){$(":input").blur(),$("#validate").valid()&&function(){if(!document.querySelector("[name='checkbox']").checked)return alert("先同意协议");var e=document.querySelector("[name='username']").value.trim(),r=document.querySelector("[name='password']").value.trim();ajax({url:"/register",data:{username:e,password:r},method:"post"}).then(function(e){2===e.status?(alert(e.msg),location.href="./login.html"):3!==e.status&&4!==e.status||alert(e.msg)})}()}),$("#validate").validate({errorClass:"red",rules:{username:{required:!0,minlength:2,maxlength:5},password:{required:!0,minlength:5,maxlength:18},confirm_password:{required:!0,equalTo:"#password"}},messages:{username:{required:"用户名不能为空",minlength:"用户名至少2个字",maxlength:"用户名不超过5个字"},password:{required:"密码不能为空",minlength:"密码至少5位",maxlength:"密码不能超过18位"},confirm_password:{required:"请输入密码",equalTo:"两次密码输入不一致"}},focusCleanup:!0});document.querySelector(".btn-primary");document.querySelector(".btn-default").onclick=function(){location.href="./login.html"}});